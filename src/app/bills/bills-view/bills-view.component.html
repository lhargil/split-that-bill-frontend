<div *ngIf="vm$ | async as vm">
    <h2>Bill from {{vm.bill.establishmentName}} incurred on {{vm.bill.billDate}}</h2>
    <table style="width: 500px;">
        <thead>
            <tr>
                <th></th>
                <th>Description</th>
                <th>Price (with charges)</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let billItem of vm.bill.billItems">
                <td>1</td>
                <td>{{billItem.description}}</td>
                <td style="text-align: right;">{{billItem.unitPrice.amount | withCharge: vm.extraCharges | currency: billItem.unitPrice.currency}}</td>
            </tr>
        </tbody>
        <tfoot>
            <tr *ngFor="let extraCharge of vm.bill.extraCharges">
                <td></td>
                <td>
                    {{ extraCharge.description }} {{ extraCharge.rate | percent }}
                </td>
                <td></td>
            </tr>
        </tfoot>
    </table>
    <br>
    <a [routerLink]="['/bills', vm.bill.id, 'edit']">Update</a>
    <button type="button" (click)="onDelete(vm.bill.id)">Delete</button>
</div>